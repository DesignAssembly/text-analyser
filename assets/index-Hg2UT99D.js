(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const p=document.querySelector("body"),S=document.querySelector(".theme-switch"),v=document.querySelector(".theme-icon"),c=document.querySelector("#textInput"),x=document.getElementById("exclude"),f=document.getElementById("letterDensity"),w=document.getElementById("letterMessage"),y=document.getElementById("setLimit"),a=document.getElementById("charLimitInput"),h=document.getElementById("limitMessage"),u=document.getElementById("viewMoreBtn");S.addEventListener("click",()=>{const t=p.classList.contains("dark"),e=p.querySelector(".logo");t?(p.classList.remove("dark"),v.src="./assets/icon-moon.svg",e.src="./assets/logo-light-theme.svg"):(p.classList.add("dark"),v.src="./assets/icon-sun.svg",e.src="./assets/logo-dark-theme.svg")});c.addEventListener("input",L);x.addEventListener("change",L);y.addEventListener("change",()=>{a.style.display=y.checked?"block":"none",h.style.display="none",c.classList.remove("limit-reached")});c.addEventListener("keydown",t=>{if(y.checked&&a.value){const e=parseInt(a.value,10),o=["Backspace","Delete","ArrowLeft","ArrowRight","Control","Meta"].includes(t.key);c.value.length>=e&&!o&&!t.ctrlKey&&!t.metaKey&&t.preventDefault()}});c.addEventListener("paste",t=>{if(y.checked&&a.value){const e=parseInt(a.value,10),o=t.clipboardData.getData("text"),s=c.value.length;if(s+o.length>e){t.preventDefault();const n=o.slice(0,e-s);c.value+=n,L()}}});u.addEventListener("click",()=>{const t=f.querySelectorAll(".letter-density-row"),e=u.getAttribute("data-expanded")==="true",o=document.querySelector(".btn-label");t.forEach((s,n)=>{s.style.display=e?n<5?"flex":"none":"flex"}),o.textContent=e?"View More":"View Less",u.setAttribute("data-expanded",!e)});function L(){const t=c.value,e=x.checked;let o=t;if(y.checked&&a.value){const s=parseInt(a.value,10);if(c.value.length>=s){const n=document.querySelector(".limit-label");c.classList.add("limit-reached"),n.textContent=`Limit reached! Your text exceeds ${s} characters.`,h.style.display="flex"}else c.classList.remove("limit-reached"),h.style.display="none"}e&&(o=t.replace(/\s/g,"")),b(t),C(o),M(t),I(t),B(t)}function b(t){const e=document.getElementById("wordCount"),o=t.trim().split(/\s+/).filter(Boolean);e.innerHTML=o.length.toString().padStart(2,"0")}function C(t){const e=document.getElementById("charCount");e.innerHTML=t.length.toString().padStart(2,"0")}function M(t){const e=document.getElementById("sentCount"),o=t.split(/[.!?]+/).map(s=>s.trim()).filter(Boolean);e.innerHTML=o.length.toString().padStart(2,"0")}function I(t){const e=document.getElementById("readingTime"),o=t.trim().split(/\s+/).filter(Boolean),s=200;if(o.length===0){e.innerHTML="0 minutes";return}const n=o.length/s*60;if(n<60)e.innerHTML="Less than a minute";else{const r=Math.ceil(n/60);e.innerHTML=`${r} minute${r>1?"s":""}`}}function B(t){const e=t.toLowerCase().replace(/[^a-z]/g,""),o=e.length;if(o===0){f.innerHTML="",w.style.display="block",u.style.display="none";return}else w.style.display="none";const s={};for(let l of e)s[l]=(s[l]||0)+1;document.querySelectorAll(".letter-density-row").forEach(l=>{l.dataset.letter in s||l.remove()}),Object.keys(s).forEach(l=>{const i=s[l]/o*100,g=document.querySelector(`.letter-density-row[data-letter="${l}"]`);if(g){const d=g.querySelector(".fill"),E=g.querySelector(".percent");d.style.width=`${i}%`,E.textContent=`${s[l]} (${i.toFixed(2)}%)`}else{const d=document.createElement("div");d.classList.add("letter-density-row"),d.dataset.letter=l,d.innerHTML=`
        <span class="letter-label">${l.toUpperCase()}</span>
        <div class="progress-bar">
            <div class="fill" style="width: ${i}%"></div>
        </div>
        <span class="percent">${s[l]} (${i.toFixed(2)}%)</span>
        `,f.appendChild(d)}});const r=f.querySelectorAll(".letter-density-row"),m=u.getAttribute("data-expanded")==="true";r.forEach((l,i)=>{l.style.display=m||i<5?"flex":"none"}),u.style.display=r.length>5?"inline-flex":"none"}
